{% extends "base.html" %}

{% block title %}Incipit Search | Search results for {{ search_term }} | {% endblock %}

{% block head %}
 {{ super() }}
    <style>
        body {font-size: 14pt; }
        li {
            padding-left: 1em;
            margin-bottom: 0.5em;
            list-style-type: none;
        }
        /*
        li::marker {
            font-weight: bold;
            content: attr(data-id);
        } */
        .id { color: #5E2CA5; }
        input[type=text] {font-size: 16pt; width: 90%;}
        .score {float: right; color: #AAAAAA;}
        em {color: #FF6300; font-weight: bold; font-style: normal; }
    </style>
{% endblock %}

{% block content %}
<h1><a href="https://cdh.princeton.edu/projects/ethiopian-miracles-mary-project/" class="link b f3 f2-ns black-70 lh-solid">The Princeton Ethiopian Miracles of Mary Project</a></h1>

   <h2>Incipit Search Results</h2>

    {% include 'incipit_form.html' %}

    <p>Showing {{ results|length }} of {{ total }} result{% if total > 1 %}s{% endif %}</p>
    {% if results|length > 0 %}
    <ul class="mw9 ml0 pl0 center ph3-ns">
        <li class="f5 lh-copy cf ph2-ns serif fw2 pl0">
            <span class="fl w-20 w-10-ns pa2 tr">Macomber ID</span>
            <span class="fl w-70 w-90-ns pa2">Incipit</span>
        </li>
        {% for result in results %}
        <li class="cf ph2-ns pl0" data-id="{{ result.macomber_id_s }}">
            <div class="fl w-20 w-10-ns pa2 b tr">{{ result.macomber_id_s }}</div>
            <div class="fl w-80 pa2">
                <span lang="gez">{{ result.incipit_txt_gez|safe }}</span><br/>
                <!-- source mss -->
                <span class="id fl">{{ result.id }}</span>
                <!-- score + relevance bar -->
                {% if result.score %}
                <div class="fr w-30-ns w-100">
                    <!-- relevance bar -->
                    <div class="ba w-30-ns w-30 h1 fr ma1">
                        <div class="bg-light-blue h-100 mw-100" style="width:{{ result.score / 100 * 100 }}%">
                        </div>
                    </div>
                    <span class="score">{{ result.score }}</span>
                </div>
                {% endif %}

            </div>
        </li>
        {% endfor %}
    </ul>
    {% endif %}
{% endblock %}
